<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
  <head>
    <title>TODO supply a title</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.4.2/pure-min.css" />
  </head>
  <body>
    <textarea id="input" onfocus="this.value = '';">Paste your code here...</textarea>
    <input id="output" type="text" />
    <br/>
    <button id="clipboard" 
            class="pure-button pure-button-primary"
            data-clipboard-target="output">Copy to Clipboard</button>
    <script src ="http://code.jquery.com/jquery-2.0.3.min.js"></script>
    <script src="libs/notify-0.3.1/notify.min.js"></script>
    <script src="libs/zeroclipboard-1.3.4/ZeroClipboard.min.js"></script>
    <script>
      $(window).load(function() {
        // Input & Output handling
        $input = $('#input');
        $output = $('#output');
        $clipboard = $('#clipboard');

        $input.on("focusout", function() {
          var text = $(this).val();
          var stripped = text.replace(/(\r\n|\n|\r)/gm, "");
          $output.val(stripped);
        });

        // Copy to clipboard
        ZeroClipboard.config({
          moviePath: "./libs/zeroclipboard-1.3.4/ZeroClipboard.swf"
        });

        var client = new ZeroClipboard($clipboard);
        client.on("load", function(client) {
          client.on("complete", function(client, args) {
            $.notify("Text copied to clipboard.", "success", {
              clickToHide: false,
              autoHide: true
            });
          });
        });
      });
    </script>
  </body>
</html>
